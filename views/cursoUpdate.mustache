<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Atualizar Curso</title>
  </head>
  <body>
    <h1>Atualizar Curso</h1>

    <!-- Select para selecionar o curso a ser atualizado -->
    <label for="curso-select">Selecione o curso:</label>
    <select id="curso-select">
      <option value="">Selecione um curso</option>
      {{#cursos}}
        <option value="{{nome}}" data-nome="{{nome}}" data-departamento="{{departamento}}">{{nome}}</option>
      {{/cursos}}
    </select>

    <!-- Formulário para edição dos dados do aluno -->
    <form id="curso-form" action="/api/cursos/update" method="POST">
      <label for="nome">Nome:</label>
      <input type="text" name="nome" id="nome" readonly>
      <div>
        <label for="departamento">Departamento:</label>
        <select id="departamento" name="departamento">
          <option selected data-default disabled selected>Departamento</option>
          {{#departamentos}}
            <option value="{{sigla}}">{{sigla}}</option>
          {{/departamentos}}
        </select>
      </div>
      <br>
      <input type="submit" value="Atualizar">
    </form>

    <br><a href="/">Página Inicial</a>

    <script>
      // Função para atualizar os campos de entrada (inputs) com os dados do curso selecionado
      function atualizarDadosCurso() {
        const select = document.getElementById("curso-select");
        const cursoSelecionado = select.options[select.selectedIndex];

        document.getElementById("nome").value = cursoSelecionado.dataset.nome;
        document.getElementById("departamento").value = cursoSelecionado.dataset.departamento;
      }

      // Event listener para acionar a função de atualização dos campos quando o curso selecionado mudar
      const select = document.getElementById("curso-select");
      select.addEventListener("change", atualizarDadosCurso);
    </script>

  </body>
</html>
